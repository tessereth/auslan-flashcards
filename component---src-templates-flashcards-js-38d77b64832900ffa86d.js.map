{"version":3,"sources":["webpack:///./src/components/flashcard.js","webpack:///./src/templates/flashcards.js","webpack:///./src/components/video.js","webpack:///./node_modules/classnames/index.js"],"names":["WordCard","_ref","word","revealed","react_default","a","createElement","className","classnames","flashcard--hidden","title","id","VideoCard","_ref2","video","HiddenCard","_ref3","reveal","onClick","Flashcard","_ref4","wordFirst","flashcard_WordCard","flashcard_VideoCard","flashcard_HiddenCard","propTypes","PropTypes","shape","string","isRequired","bool","func","FlashcardScene","state","e","preventDefault","_this","setState","unreveal","previous","_this$props$pageConte","props","pageContext","slug","guess","number","navigate","next","_this$props$pageConte2","right","left","isFirst","idx","isLast","data","decksYaml","words","length","onKeyDownNative","key","componentDidMount","document","addEventListener","this","componentWillUnmount","removeEventListener","render","_this$props","layout","name","flashcard","disabled","React","PureComponent","query","mediaPath","mediaRef","slice","Video","_React$PureComponent","call","vjsDefaultOptions","playbackRates","preload","loop","controls","muted","videoRef","createRef","player","videojs","current","dispose","componentDidUpdate","prevProps","prevState","play","pause","other","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1___default","react__WEBPACK_IMPORTED_MODULE_3___default","Object","assign","poster","ref","autoPlay","src","type","href","target","rel","defaultProps","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","push","Array","isArray","inner","apply","join","module","exports","default","undefined"],"mappings":"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","file":"component---src-templates-flashcards-js-38d77b64832900ffa86d.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport Video from './video'\n\nconst WordCard = ({ word, revealed }) => (\n  <div className={classnames('flashcard', { 'flashcard--hidden': !revealed })}>\n    <div className=\"flashcard__content flashcard__content--word\">\n      <h1 className=\"title\">{word.title || word.id}</h1>\n    </div>\n  </div>\n)\n\nconst VideoCard = ({ word, revealed }) => (\n  <div className={classnames('flashcard', { 'flashcard--hidden': !revealed })}>\n    <div className=\"flashcard__content flashcard__content--video\">\n      <Video word={word} revealed={revealed} />\n    </div>\n  </div>\n)\n\nconst HiddenCard = ({ reveal }) => (\n  <button className=\"flashcard flashcard--reveal\" onClick={reveal}>\n    <div className=\"flashcard__content flashcard__content--reveal\">\n      <p className=\"subtitle\">Reveal</p>\n    </div>\n  </button>\n)\n\nconst Flashcard = ({ word, wordFirst, revealed, reveal }) => {\n  return (\n    <div className=\"columns\">\n      <div className=\"column is-centered\">\n        {wordFirst ? (\n          <WordCard word={word} revealed />\n        ) : (\n          <VideoCard word={word} revealed />\n        )}\n      </div>\n      <div className=\"column is-centered\">\n        {wordFirst ? (\n          <VideoCard word={word} revealed={revealed} />\n        ) : (\n          <WordCard word={word} revealed={revealed} />\n        )}\n        {!revealed && <HiddenCard reveal={reveal} />}\n      </div>\n    </div>\n  )\n}\n\nFlashcard.propTypes = {\n  word: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    video: PropTypes.string.isRequired,\n  }).isRequired,\n  wordFirst: PropTypes.bool,\n  revealed: PropTypes.bool,\n  reveal: PropTypes.func.isRequired,\n}\n\nexport default Flashcard\n","import React from 'react'\nimport { graphql, navigate } from 'gatsby'\n\nimport Layout from '../components/layout'\nimport Flashcard from '../components/flashcard'\n\nclass FlashcardScene extends React.PureComponent {\n  state = { revealed: false }\n\n  reveal = e => {\n    if (e) e.preventDefault()\n    this.setState({\n      revealed: true,\n    })\n  }\n\n  unreveal = e => {\n    if (e) e.preventDefault()\n    this.setState({\n      revealed: false,\n    })\n  }\n\n  previous = () => {\n    const { slug, guess, number } = this.props.pageContext\n    navigate(`/${slug}/${guess}/${number - 1}`)\n  }\n\n  next = () => {\n    const { slug, guess, number } = this.props.pageContext\n    navigate(`/${slug}/${guess}/${number + 1}`)\n  }\n\n  right = e => {\n    if (this.state.revealed) {\n      this.next(e)\n    } else {\n      this.reveal(e)\n    }\n  }\n\n  left = e => {\n    if (this.state.revealed) {\n      this.unreveal(e)\n    } else {\n      this.previous(e)\n    }\n  }\n\n  isFirst = () => this.props.pageContext.idx === 0\n\n  isLast = () =>\n    this.props.pageContext.idx === this.props.data.decksYaml.words.length - 1\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDownNative)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDownNative)\n  }\n\n  onKeyDownNative = e => {\n    if (e.key === 'ArrowLeft' && !(this.isFirst() && !this.state.revealed)) {\n      this.left()\n    } else if (\n      e.key === 'ArrowRight' &&\n      !(this.isLast() && this.state.revealed)\n    ) {\n      this.right()\n    }\n  }\n\n  render() {\n    const { data, pageContext } = this.props\n    const word = data.decksYaml.words[pageContext.idx]\n    return (\n      <Layout>\n        <section className=\"hero is-primary is-small\">\n          <div className=\"hero-body\">\n            <div className=\"container\">\n              <h1 className=\"title\">{data.decksYaml.name}</h1>\n            </div>\n          </div>\n        </section>\n        <section className=\"section\">\n          <div className=\"container\">\n            <Flashcard\n              key={word.id}\n              word={word}\n              wordFirst={pageContext.guess === 'sign'}\n              reveal={this.reveal}\n              revealed={this.state.revealed}\n            />\n            <div className=\"level is-mobile\">\n              <div className=\"level-left\">\n                <button\n                  className=\"button\"\n                  onClick={this.previous}\n                  disabled={this.isFirst()}\n                >\n                  Previous\n                </button>\n              </div>\n              <div className=\"level-right\">\n                {this.isLast() ? (\n                  <button\n                    className=\"button is-success\"\n                    onClick={() => navigate('/')}\n                  >\n                    Done!\n                  </button>\n                ) : (\n                  <button className=\"button is-primary\" onClick={this.next}>\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </section>\n      </Layout>\n    )\n  }\n}\n\nexport default FlashcardScene\n\n// TODO: find a way to only pull the relevant word rather than the whole list\nexport const query = graphql`\n  query($slug: String!) {\n    decksYaml(fields: { slug: { eq: $slug } }) {\n      name\n      words {\n        id\n        title\n        video\n      }\n    }\n  }\n`\n","import React from 'react'\nimport videojs from 'video.js'\n\nconst mediaPath = mediaRef => {\n  let base\n  if (mediaRef.slice(-2) === '_1') {\n    base = 'http://media.auslan.org.au/mp4video'\n  } else {\n    base = 'http://media.auslan.org.au/auslan'\n  }\n  return `${base}/${mediaRef.slice(0, 2)}/${mediaRef}`\n}\n\nclass Video extends React.PureComponent {\n  vjsDefaultOptions = {\n    playbackRates: [0.25, 0.5, 1.0, 1.5],\n    preload: 'auto',\n    loop: true,\n    controls: true,\n    muted: true,\n  }\n\n  constructor(props) {\n    super(props)\n    this.videoRef = React.createRef()\n  }\n\n  componentDidMount() {\n    this.player = videojs(this.videoRef.current, this.vjsDefaultOptions)\n  }\n\n  componentWillUnmount() {\n    if (this.player) {\n      this.player.dispose()\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.revealed !== this.props.revealed) {\n      if (this.props.revealed) {\n        this.player.play()\n      } else {\n        this.player.pause()\n      }\n    }\n  }\n\n  render() {\n    const { word, revealed, ...other } = this.props\n    return (\n      <video\n        id={`flashcard-video-${word.id}`}\n        className=\"video-js vjs-fill\"\n        poster={`${mediaPath(word.video)}.jpg`}\n        ref={this.videoRef}\n        autoPlay={revealed}\n        {...other}\n      >\n        <source src={`${mediaPath(word.video)}.mp4`} type=\"video/mp4\" />\n        <p className=\"vjs-no-js\">\n          To view this video please enable JavaScript, and consider upgrading to\n          a web browser that\n          <a\n            href=\"https://videojs.com/html5-video-support/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            supports HTML5 video\n          </a>\n        </p>\n      </video>\n    )\n  }\n}\n\nVideo.defaultProps = {\n  revealed: true,\n}\n\nexport default Video\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"sourceRoot":""}