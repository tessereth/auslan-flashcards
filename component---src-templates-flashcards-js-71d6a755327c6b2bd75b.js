(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{139:function(e,a,t){"use strict";t.r(a),t.d(a,"query",function(){return i});t(48);var r=t(0),n=t.n(r),s=t(158);a.default=function(e){var a=e.data,t=e.pageContext,r=e.location;return n.a.createElement(s.a,{slug:t.slug,guess:t.guess,deck:a.decksYaml,search:r.search})};var i="699846864"},148:function(e,a,t){"use strict";var r=t(0),n=t.n(r);a.a=function(e){var a=e.children;return n.a.createElement("section",{className:"hero is-primary is-small"},n.a.createElement("div",{className:"hero-body"},n.a.createElement("div",{className:"container"},a)))}},153:function(e,a,t){"use strict";t(33);var r=t(149),n=t.n(r),s=t(7),i=t.n(s),l=(t(159),t(0)),c=t.n(l),o=t(164),d=function(e){return e.startsWith("http")?e:("_1"===e.slice(-2)?"http://media.auslan.org.au/mp4video":"http://media.auslan.org.au/auslan")+"/"+e.slice(0,2)+"/"+e},u=function(e){function a(a){var t;return(t=e.call(this,a)||this).vjsDefaultOptions={playbackRates:[.25,.5,1,1.5],preload:"auto",loop:!0,controls:!0,muted:!0},t.videoRef=c.a.createRef(),t}i()(a,e);var t=a.prototype;return t.componentDidMount=function(){this.player=Object(o.a)(this.videoRef.current,this.vjsDefaultOptions)},t.componentWillUnmount=function(){this.player&&this.player.dispose()},t.componentDidUpdate=function(e,a){e.revealed!==this.props.revealed&&(this.props.revealed?this.player.play():this.player.pause())},t.render=function(){var e=this.props,a=e.word,t=e.revealed,r=n()(e,["word","revealed"]);return c.a.createElement("video",Object.assign({id:"flashcard-video-"+a.id,className:"video-js image is-4by3 vjs-big-play-centered",poster:d(a.video)+".jpg",ref:this.videoRef,autoPlay:t},r),c.a.createElement("source",{src:d(a.video)+".mp4",type:"video/mp4"}),c.a.createElement("p",{className:"vjs-no-js"},"To view this video please enable JavaScript, and consider upgrading to a web browser that",c.a.createElement("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noopener noreferrer"},"supports HTML5 video")))},a}(c.a.PureComponent);u.defaultProps={revealed:!0},a.a=u},158:function(e,a,t){"use strict";t(168),t(169),t(33);var r=t(149),n=t.n(r),s=(t(48),t(7)),i=t.n(s),l=t(0),c=t.n(l),o=t(4),d=t.n(o),u=t(146),m=t(170),v=t(154),p=t(172),f=t.n(p),h=t(153),E=function(e){var a=e.word,t=e.revealed;return c.a.createElement("div",{className:f()("flashcard",{"flashcard--hidden":!t})},c.a.createElement("div",{className:"flashcard__content flashcard__content--word"},c.a.createElement("h1",{className:"title"},a.title||a.id)))},g=function(e){var a=e.word,t=e.revealed;return c.a.createElement("div",{className:f()("flashcard",{"flashcard--hidden":!t})},c.a.createElement("div",{className:"flashcard__content"},c.a.createElement(h.a,{word:a,revealed:t})))},w=function(e){var a=e.reveal;return c.a.createElement("button",{className:"flashcard flashcard--reveal",onClick:a},c.a.createElement("div",{className:"flashcard__content"},c.a.createElement("div",{className:"af-reveal--word"},c.a.createElement("p",{className:"subtitle"},"reveal"))))},N=function(e){var a=e.reveal;return c.a.createElement("button",{className:"flashcard flashcard--reveal",onClick:a},c.a.createElement("div",{className:"flashcard__content"},c.a.createElement("div",{className:"image is-4by3"},c.a.createElement("div",{className:"af-reveal--video"},c.a.createElement("p",{className:"subtitle"},"reveal")))))},b=function(e){var a=e.word,t=e.wordFirst,r=e.revealed,n=e.reveal;return c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-centered"},t?c.a.createElement(E,{word:a,revealed:!0}):c.a.createElement(g,{word:a,revealed:!0})),c.a.createElement("div",{className:"column is-centered"},t?c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{word:a,revealed:r}),!r&&c.a.createElement(N,{reveal:n})):c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{word:a,revealed:r}),!r&&c.a.createElement(w,{reveal:n}))))};b.propTypes={word:d.a.shape({id:d.a.string.isRequired,title:d.a.string,video:d.a.string.isRequired}).isRequired,wordFirst:d.a.bool,revealed:d.a.bool,reveal:d.a.func.isRequired};var y=b,k=(t(151),t(148)),x=function(e){var a=e.deck,t=e.slug,r=e.guess,n=e.custom,s=e.search,i="word"===r?"sign":"word";return c.a.createElement(k.a,null,c.a.createElement("div",{className:"level"},c.a.createElement("div",{className:"level-left"},c.a.createElement("h1",{className:"title"},a.name)),c.a.createElement("div",{className:"level-right"},c.a.createElement("div",{className:"buttons"},c.a.createElement(u.Link,{to:"/"+t+"/"+i+"?"+s,className:"button is-primary is-outlined is-inverted"},"Guess "+i),n?c.a.createElement(u.Link,{to:"/build-custom?"+s,className:"button is-primary is-outlined is-inverted"},"Edit"):c.a.createElement(u.Link,{to:"/"+t,className:"button is-primary is-outlined is-inverted"},"View all")))))},R=function(e){function a(){for(var a,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(a=e.call.apply(e,[this].concat(r))||this).state={revealed:!1},a.reveal=function(e){e&&e.preventDefault(),a.setState({revealed:!0})},a.unreveal=function(e){e&&e.preventDefault(),a.setState({revealed:!1})},a.idxUrl=function(e){var t=a.props;return"/"+t.slug+"/"+t.guess+"?"+a.search(e)},a.gotoIdx=function(e){a.unreveal(),Object(u.navigate)(a.idxUrl(e))},a.linkToIdx=function(e){var t=e.idx,r=e.text,s=n()(e,["idx","text"]);return t<0||t>=a.props.deck.words.length?c.a.createElement("button",Object.assign({disabled:!0},s),r):c.a.createElement(u.Link,Object.assign({to:a.idxUrl(t),onClick:function(){return a.gotoIdx(t)}},s),r)},a.right=function(e){a.isLast()&&a.state.revealed||(a.state.revealed?a.gotoIdx(a.idx()+1):a.reveal(e))},a.left=function(e){a.isFirst()&&!a.state.revealed||(a.state.revealed?a.unreveal(e):a.gotoIdx(a.idx()-1))},a.isFirst=function(){return 0===a.idx()},a.isLast=function(){return a.idx()===a.props.deck.words.length-1},a.onKeyDownNative=function(e){"ArrowLeft"===e.key?a.left():"ArrowRight"===e.key&&a.right()},a.idx=function(){if("undefined"==typeof URLSearchParams)return 0;var e=new URLSearchParams(a.props.search),t=parseInt(e.get("idx")||"0");return t<0?0:t>=a.props.deck.words.length?a.props.deck.words.length-1:t},a.seed=function(){if(void 0===a._seed){if("undefined"==typeof URLSearchParams)return a._seed=0,a._seed;var e=new URLSearchParams(a.props.search);e.has("seed")?a._seed=e.get("seed"):a._seed=Math.floor(1e4*Math.random())}return a._seed},a.words=function(){return Object(m.shuffle)(a.props.deck.words,a.seed())},a.search=function(e){if("undefined"==typeof URLSearchParams)return"";var t=new URLSearchParams(a.props.search);return t.set("idx",e),t.set("seed",a.seed()),t.toString()},a}i()(a,e);var t=a.prototype;return t.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDownNative)},t.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDownNative)},t.render=function(){var e=this.props,a=e.slug,t=e.guess,r=this.idx(),n=this.words()[r];return c.a.createElement(v.a,null,c.a.createElement(x,Object.assign({},this.props,{search:this.search(0)})),c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"container"},c.a.createElement(y,{key:n.id,word:n,wordFirst:"sign"===t,reveal:this.reveal,revealed:this.state.revealed}),c.a.createElement("div",{className:"level is-mobile"},c.a.createElement("div",{className:"level-left"},this.linkToIdx({idx:r-1,text:"Previous",className:"button"})),c.a.createElement("div",{className:"level-right"},this.isLast()?c.a.createElement(u.Link,{className:"button is-success",to:"/"+a},"Done!"):this.linkToIdx({idx:r+1,text:"Next",className:"button is-primary"}))))))},a}(c.a.PureComponent);R.propTypes={slug:d.a.string.isRequired,guess:d.a.string.isRequired,deck:d.a.object.isRequired,search:d.a.string.isRequired};a.a=R},161:function(e,a){},171:function(e,a){}}]);
//# sourceMappingURL=component---src-templates-flashcards-js-71d6a755327c6b2bd75b.js.map